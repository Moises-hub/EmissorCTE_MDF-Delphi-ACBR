ALTER TABLE CTE_UNI ADD ID INTEGER;
ALTER TABLE CTE_CCORRECAO ADD CHAVE_CC VARCHAR(80);
CREATE SEQUENCE GEN_CTE_UNI_ID;
    
    update cte_uni
set cte_uni.id = (select gen_id(gen_cte_uni_id,1) from rdb$database)
where cte_uni.id is null;




ALTER TABLE CLIENTES ADD MOTORISTA INTEGER;
INSERT INTO mdf_seguradora(ID,NOME,CNPJ,PADRAO)
                   SELECT gen_id(GEN_MDF_SEGURADORA_ID,1),
                              seguradora,
                              CNPJ,
                              1
                              FROM mdf_seguro
                              WHERE NOT exists (SELECT mdf_seguradora.CNPJ FROM mdf_seguradora
                                                WHERE mdf_seguradora.CNPJ = mdf_seguro.cpfcnpj);


update mdfe_dados
set mdfe_dados.id_nfe = 1
where mdfe_dados.id_nfe is null;


ALTER TABLE NFE_MDF ADD ID_REGIAO INTEGER;

ALTER TABLE CTE_DADOS
    ADD CODIGO VARCHAR(10);

CREATE SEQUENCE MDFE_CONDUTOR;


alter table CTE_MDF_CONFIG  add versao varchar(50);
alter table mdf_log add MDF_CTE integer;
alter table mdf_log add ID_EMPRESA integer;
ALTER TABLE CLIENTES ADD MOTORISTA INTEGER;





ALTER TABLE CTE_DADOS ADD       REC_ENUM                
VARCHAR(8);
ALTER TABLE CTE_DADOS ADD       EXP_ENUM                
VARCHAR(8);
 

alter table CTE_CONFIG  add SERIE_OS  integer;
alter table CTE_CONFIG  add NUMERO_OS varchar(10);

alter table mdfe_dados  add TIPO_EMISSOR integer;
alter table mdfe_dados  add CNPJ_TOMADOR varchar(20);




UPDATE CLIENTES
SET CLIENTES.motorista =1
WHERE clientes.cpf_cnpj = (SELECT distinct(mdfe_condutor.cpf) FROM mdfe_condutor WHERE mdfe_condutor.cpf = CLIENTES.cpf_cnpj);

alter table NFE_MDF add CHAVE_REF varchar(44);
alter table MDFE_VEICULO ADD RNTRC  VARCHAR(8);
ALTER TABLE MDFE_DADOS ADD PRODPRED_TPCARGA integer;
ALTER TABLE MDFE_CADMOTORISTA ADD PRIMARY KEY (ID);
ALTER TABLE MDFE_CONDUTOR ADD PRIMARY KEY (ID);
ALTER TABLE MDFE_DADOS ADD PRIMARY KEY (ID);
ALTER TABLE MDFE_L_CARREGAMENTO ADD PRIMARY KEY (ID);
ALTER TABLE MDFE_L_DESCARREGAMENTO ADD PRIMARY KEY (ID);
ALTER TABLE MDFE_V_REBOQUE ADD PRIMARY KEY (ID);
ALTER TABLE MDF_DOCCTE ADD PRIMARY KEY (ID);
ALTER TABLE MDF_SEGURADORA ADD PRIMARY KEY (ID);
ALTER TABLE NFE_MDF ADD PRIMARY KEY (ID);
ALTER TABLE CTE_CARGA ADD PRIMARY KEY (ID);
ALTER TABLE CTE_CCORRECAO ADD PRIMARY KEY (ID);
ALTER TABLE CTE_CONDUTOR ADD PRIMARY KEY (ID);
ALTER TABLE CTE_CONFIG ADD PRIMARY KEY (ID);
ALTER TABLE CTE_DADOS ADD PRIMARY KEY (ID);
ALTER TABLE CTE_OCC ADD PRIMARY KEY (ID);
ALTER TABLE CTE_UF_PERCURSO ADD PRIMARY KEY (ID);
ALTER TABLE CTE_VALORADICIONAL ADD PRIMARY KEY (ID);
ALTER TABLE CTE_VEIC ADD PRIMARY KEY (ID);
ALTER TABLE MDFE_DADOS ADD PRODPRED_TPCARGA INTEGER;
ALTER TABLE MDFE_DADOS ADD PRODPRED_DESCRICAO VARCHAR(50);
ALTER TABLE MDFE_DADOS ADD PRODPRED_CEAN VARCHAR(40);
ALTER TABLE MDFE_DADOS ADD PRODPRED_NCM VARCHAR(20);
ALTER TABLE MDFE_DADOS ADD PRODPRED_CEPCARRE VARCHAR(8);
ALTER TABLE MDFE_DADOS ADD PRODPRED_CEPDESCARRE VARCHAR(8);
ALTER TABLE MDFE_DADOS ADD PRODPRED_TPCARGA integer;
alter table NFE_MDF  CHAVE_REF      VARCHAR(44);
ALTER TABLE NATUREZA_OPERACAO ADD CBENEF VARCHAR(15);
ALTER TABLE CTE_CCORRECAO ADD CHAVE_CC VARCHAR(80);
ALTER TABLE mdfe_dados ALTER VEI_RNTRC TYPE VARCHAR(15);




commit work;



